#parse("common/list_start.vm")
<div id="breadcrumb">
    <a href="/index" class="tip-bottom"><i class="icon-home"></i>主页</a>
    <a href="#" class="tip-bottom">优惠券分类</a>
</div>
<!--列表开始-->
<table class="table table-bordered table-striped">
    <thead>
    <tr>
        <th>ID</th>
        <th>标题</th>
        <th>组名称</th>
        <th>描述</th>
        <th>价格</th>
        <th>有效天数</th>
        <th>起始限额</th>
        <th class="table-set">操作</th>
    </tr>
    </thead>
    <tbody>
        #foreach($e in $!page.content)
        <tr>
            <td>$!e.id</td>
            <td>$!e.title</td>
            <td>$!e.couponGroup.name</td>
            <td>$!e.intro</td>
            <td>$!e.price</td>
            <td>$!e.availableDays</td>
            <td>$!e.startPrice</td>
            <td><a href="javascript:void(0);" data-id="$!e.id" class="btn btn-info btn-mini update-item" modal-id="update-modal">编辑</a></td>
        </tr>
        #end
    </tbody>
</table>
<!--列表结束-->

<div class="form-actions ">
    <a href="javascript:void(0);" class="btn btn-success update-item" modal-id="update-modal">新建</a>
</div>
#parse("common/list_mid.vm")

<form class="form-horizontal " method="get">
    <div class="control-group">
        <label>标题 或ID</label>
        <input type="text" class="span11" name="nameOrId" value="$!nameOrId">
    </div>
    <div class="control-group">
        <label>分组</label>
        <select id="couponGroup.id" name="couponGroup.id" class="span7">
            <option value="">全部</option>
            #foreach($e in $!couponGroups)
                <option value="$!e.id" #if($!entity.couponGroup.id==$!e.id) selected #end>$!e.id:$!e.name</option>
            #end
        </select>
    </div>
    <div class="control-group">
        <button type="submit" class="btn btn-primary">查询</button>
    </div>
</form>

<!--编辑模态框开始-->
<div id="update-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3>模板明细</h3>
    </div>

    <div class="modal-body">
        <form class="form-horizontal" id="couponTemplateForm" action="update">
            <div class="control-group">
                <input name="id" type="text" style="display: none;">
                <label class="control-label">所属组</label>
                <div class="controls">
                    <select id="couponGroupId" class="span11" name="couponGroup.id">
                        #foreach($couponGroup in $!couponGroups)
                            <option value="$!couponGroup.id">
                                $!couponGroup.id:$!couponGroup.name
                            </option>
                        #end
                    </select>
                </div>
                <label class="control-label">标题</label>
                <div class="controls">
                    <input name="title" type="text" class="span11" placeholder="标题">
                </div>
                <label class="control-label">描述</label>
                <div class="controls">
                    <input name="intro" type="text" class="span11" placeholder="描述">
                </div>
                <label class="control-label">价格</label>
                <div class="controls">
                    <input name="price" type="text" class="span11" placeholder="价格">
                </div>
                <label class="control-label">价格(本地)</label>
                <div class="controls">
                    <input name="localPrice" type="text" class="span11" placeholder="本地价格(本地)">
                </div>
                <label class="control-label">有效期(天)</label>
                <div class="controls">
                    <input name="availableDays" type="text" class="span11" placeholder="有效期(天)">
                </div>
                <label class="control-label">使用起始限额</label>
                <div class="controls">
                    <input name="startPrice" type="text" class="span11" placeholder="使用起始限额">
                </div>
                <label class="control-label">使用起始限额(本地)</label>
                <div class="controls">
                    <input name="startLocalPrice" type="text" class="span11" placeholder="使用起始限额(本地)">
                </div>
                <label class="control-label">使用范围</label>
                <div class="controls">
                    #foreach($e in $!userRanges)
                        <input name="userRanges" type="checkbox" value="$!e"
                            #foreach($t in $!entity.userRanges)
                               #if($!e.value == $!t.value)checked#end
                            #end
                        /> $!e.name
                    #end
                </div>
            </div>
        </form>
    </div>

    <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>
        <button class="btn btn-primary submit-item" type="button" modal-id="update-modal">保存</button>
    </div>
</div>
<!--编辑模态框结束-->
#parse("common/list_end.vm")
<script src="/dist/js/curd.js"></script>





